FROM node:22-alpine

WORKDIR /app

COPY package*.json ./

RUN npm install

COPY . .

ENV MONGODB_CLUSTER_PASS=demonterror187
ENV JWT_SECRET=chatterloop12345678
ENV MAILINGSERVICE=https://automatedemailservice.onrender.com
# FIREBASE 
ENV FIREBASE_TYPE=service_account 
ENV FIREBASE_PROJECT_ID=chatterloop 
ENV FIREBASE_PRIVATE_KEY_ID=a04d94e24beb7c6d94905a23c6ed844790010345 
ENV FIREBASE_PRIVATE_KEY='{"privateKey": "-----BEGIN PRIVATE KEY-----\nMIIEugIBADANBgkqhkiG9w0BAQEFAASCBKQwggSgAgEAAoIBAQCBKmSPrs5HqtAG\nYCTYX49sFct3rciEzHp2uq0oJo82VWEnFfS/iQp86Ga0g820RdwWGCaYXJjdxT0o\nODDpA12cG8656UoJBuYKB3Tpd3nKWvHuUPk6VIUHKxmGLGkXpi5LBtFutTbQuFEt\nPVnmhoedvo7XrxX/2LEPSwHls/PJYcwcAAA5FJ7lbysPylS+A0+CZHGdHIv+v3yE\ndGMFO6fD3pclDo0LM8FAqvSp+lrezXlsvkmMvPzCnWJRDkhWhdi0k4rBp94QeIZt\nre/Oawoxfkh7EwpzlX3FBOhiYRTLmd5F1+30mj1XJ34hTqFnChAWLQdKsfglKEiw\nv6NUOlcbAgMBAAECgf9621fLUvniMRas+cYSCNLie9iMfT+9EMFrLSSGjCasB4nh\nI4EorbDMHkGSccu3LLuqSE5tnaXJS1JgbxIWkJz5X3nCW6OP8n/cCjup1XqCfv6f\nL2XflYTyzIv6k0Niuy5NLq8GHleFL8wGu9RG8K8N27MCdAb406OWaEHlusSnRoRx\nJ8lyktBlLmGJApz6xi9asIKbz6RJ6jOX3jfVEzjH4nsY0R0itZgJOhf1VGCH062V\n4rM7HvicFZ1hb8+z8OdB3OXoJ40ocOEQRbK2xp/G4GO0hqDqT/sC3XZtXXSpJRB4\nG3aJG3i02tDsFRlNoSkg54TEf1vQd9ZOcc2kICECgYEAthC8kEQ77h8pCLdQ7wpN\ndr2QTf+27J2JIsduU/zHbcukEAyaOYYj7pfoGh7EyYxvQCOyYUFndVG3lhRXps9F\nWv3UDGn5qlaLHF70JuKpFA60VDU9rKX8p0YrIwWuJ4gvs+/JVaboP9AGmF/Kp/p8\nRscNXB8OnNHUhkyRUSiohPsCgYEAtZ5Exg7APBv2d81JZ9C9jwpZRoVndkXRbsGu\neHtEVXSzJ/gTYcNGxtYoK9PVBJcEHYRhSni6xToreb5/wn+gk5VZ4FvUnqJHyj/6\nsUfG3Nkx3IgoEis6U8ou9OP6A9cFhrvbJpvyHUOABQE6W9gTWATvrZ43dlUWGNZ6\n8/xVnGECgYAYo3kxONq3ZeYitNQyFT3YdNzjgVia+tLFLyICIbJHbIieV2ZDpKCW\nOF6DsmhFMkkX7/zC5pv+p3llyQj3nRMwtisNJwZPg/i9dSgrXv8spLTItI/NHoVr\nibZqvekMloSGIEwp2DWT9S3/Tu9Y/i/1UBjBv741gLv3FMORrSPpIwKBgCKt3+/5\nrRdNN5jUqCmcoDWKAlYG7ySUXFNLxGbZEslGiVcedYT7Zq5dAjqsLka8F1sThghU\nWUWDv/11NKwM9rp3kDvZDRZlYlPqN5JWZFCTYIP9s7kUbATH3IOCbKEDE9kQUd5j\ndK3Fz9Ik0+HptnfeKW37ghekU53Who/EJQzBAoGAd0EFXPTXmQVPBgWKP4XcG+71\nmv8v0M3CHgGi8PwqeRBCTgfuslM2qVbkw2TQ6mIepAuYCbcVvYGG0a8qMfW60icD\nb5SsZMrmScJSlaxL5HvUJbiIpTusiFIte77Yy5feUe3Y24du+CIlY62blIP6BWy3\nvIeAk78FPWifVFJ9FJg=\n-----END PRIVATE KEY-----\n"}' 
ENV FIREBASE_CLIENT_EMAIL=firebase-adminsdk-kc8bu@chatterloop.iam.gserviceaccount.com 
ENV FIREBASE_CLIENT_ID=100344977098887239828 
ENV FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth 
ENV FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token 
ENV FIREBASE_AUTH_PROVIDER_X509_CERT_URL=https://www.googleapis.com/oauth2/v1/certs 
ENV FIREBASE_CLIENT_X509_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-kc8bu%40chatterloop.iam.gserviceaccount.com 
ENV FIREBASE_UNIVERSE_DOMAIN=googleapis.com 
ENV FIREBASE_STORAGE_BUCKET=chatterloop.appspot.com
#RabbitMQ
ENV RABBITMQ_USER=neonsystems
ENV RABBITMQ_PASS=neonsystems
ENV RABBITMQ_URL=rabbitmq-0.rabbitmq.rabbits.svc.cluster.local
ENV RABBITMQ_PORT=5672

ENV PORT=3001

EXPOSE 3001

CMD [ "npm", "start" ]